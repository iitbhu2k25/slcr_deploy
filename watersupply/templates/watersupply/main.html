{% extends "demand/base.html" %}

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Supply</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>


{% block title %}Water Supply{% endblock %}

{% block content %}
<div class="container-1">
    <h3 class="text-center mb-4" style="color: #ff00cc;">Water Supply</h1>
    <div class="form-container">
    <form>
        <!-- Location Fields -->
        <div class="row mb-3">
            <div class="col-md-3">
                <label for="state_dropdown" class="form-label">State:</label>
                <select id="state_dropdown" name="state_dropdown" class="form-select">
                    <option value="">Select State</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="district_dropdown" class="form-label">District:</label>
                <select id="district_dropdown" name="district_dropdown" class="form-select">
                    <option value="">Select District</option>
                </select>
            </div>
            <div class="col-md-3 subdistrict-container">
                <label for="subdistrict_dropdown" class="form-label">Subdistrict:</label>
                <select id="subdistrict_dropdown" name="subdistrict_dropdown" class="form-select">
                    <option value="">Select Subdistrict</option>
                </select>
            </div>
            <div class="form-group col-10 col-md-5 mb-3">
                <label for="village_dropdown">Town/Village:</label>
                <div id="village-container" class="border p-2" style="max-height: 200px; overflow-y: auto;">
                    <!-- Villages/Towns checkboxes will be dynamically populated here -->
                </div>
            </div>
            
            <div class="form-group col-10 col-md-5 mb-3">
                <label>Selected Town/Village:</label>
                <div id="selected-villages" class="border p-2">
                    <!-- Selected villages/towns will be displayed here -->
                </div>
                <div id="total-population"></div>
            </div>            
        </div>

        <!-- Water Supply Inputs -->
        <h5>Surface Water Supply (SWS)</h5>
        <div class="border rounded p-3 mb-3" style="border: var(--bs-border-width) var(--bs-border-style) #a7afb7 !important;">
            <!-- Surface Water Supply -->
            <div class="col-md-4">
                <label for="surface_water" class="form-label">Surface Water Supply (SWS) (in MLD):</label>
                <input type="number" id="surface_water" name="surface_water" class="form-control" min="0">
            </div>
        </div>
    
        <!-- Groundwater Supply -->
        <h5>Groundwater Supply (GWS)</h5>
        <div class="border rounded p-3 mb-3" style="border: var(--bs-border-width) var(--bs-border-style) #a7afb7 !important;">
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="direct_groundwater" class="form-label">Direct Groundwater Supply (in MLD):</label>
                    <input type="number" id="direct_groundwater" name="direct_groundwater" class="form-control" min="0">
                </div>
            </div>
            <h6 class="text-center">OR</h6>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="num_tubewells" class="form-label">Number of Tube-wells:</label>
                    <input type="number" id="num_tubewells" name="num_tubewells" class="form-control" min="0">
                </div>
                <div class="col-md-4">
                    <label for="discharge_rate" class="form-label">Discharge Rate:</label>
                    <input type="number" id="discharge_rate" name="discharge_rate" class="form-control" min="0">
                </div>
                <div class="col-md-4">
                    <label for="operating_hours" class="form-label">Operating Hours:</label>
                    <input type="number" id="operating_hours" name="operating_hours" class="form-control" min="0">
                </div>
            </div>
        </div>

        <!-- Alternate Water Supply -->
        <h5>Alternate Water Supply (AWS)</h5>
        <div class="border rounded p-3 mb-3" style="border: var(--bs-border-width) var(--bs-border-style) #a7afb7 !important;">
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="direct_alternate" class="form-label">Direct Alternate Water Supply (in MLD):</label>
                    <input type="number" id="direct_alternate" name="direct_alternate" class="form-control" min="0">
                </div>
            </div>
            <h6 class="text-center">OR</h6>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="rooftop_tank" class="form-label">Roof-top Harvesting (Rain-tank Storage) (MLD):</label>
                    <input type="number" id="rooftop_tank" name="rooftop_tank" class="form-control" min="0">
                </div>
                <div class="col-md-4">
                    <label for="aquifer_recharge" class="form-label">Roof-top Harvesting (Aquifer Recharge) (MLD):</label>
                    <input type="number" id="aquifer_recharge" name="aquifer_recharge" class="form-control" min="0">
                </div>
                <div class="col-md-4">
                    <label for="surface_runoff" class="form-label">Surface Runoff Storage (MLD):</label>
                    <input type="number" id="surface_runoff" name="surface_runoff" class="form-control" min="0">
                </div>
                <div class="col-md-4">
                    <label for="reuse_water" class="form-label">Reuse Potential of Treated Wastewater (MLD):</label>
                    <input type="number" id="reuse_water" name="reuse_water" class="form-control" min="0">
                </div>
            </div>
        </div>

        <!-- Calculate Button -->
        <div class="text-center">
            <button id="calculate_button" type="button" class="btn btn-primary">Calculate</button>
        </div>

        <!-- Result -->
        <div id="result_container" class="mt-3 text-center result"></div>
    </form>
</div>
</div>
</div>
<script src="{% static 'js/watersupply.js' %}"></script>
{% endblock %}